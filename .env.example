# ============================================================================
# SmartHome Multi-Home - Unified Environment Configuration
# ============================================================================
# This file contains ALL environment variables for the SmartHome system
# Copy this to .env and adjust values for your environment

# ============================================================================
# URL Prefixes - IMPORTANT FOR DEPLOYMENT
# ============================================================================
# Choose configuration based on your reverse proxy setup:
# 
# Traefik with stripprefix middleware (RECOMMENDED):
URL_PREFIX=
API_PREFIX=
STATIC_PREFIX=
SOCKET_PREFIX=
#
# Nginx with path-based routing (legacy):
# URL_PREFIX=/smarthome
# API_PREFIX=/smarthome/api
# STATIC_PREFIX=/smarthome/static
# SOCKET_PREFIX=/smarthome/socket.io
#
# Development (no reverse proxy):
# URL_PREFIX=
# API_PREFIX=/api
# STATIC_PREFIX=/static
# SOCKET_PREFIX=/socket.io

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smarthome_multihouse
DB_USER=smarthome_user
DB_PASSWORD=change_this_password

# ============================================================================
# Server Configuration
# ============================================================================
SERVER_PORT=5000
SERVER_HOST=0.0.0.0

# ============================================================================
# Flask Configuration
# ============================================================================
FLASK_ENV=development
# SECURITY: Generate random SECRET_KEY with: python -c 'import secrets; print(secrets.token_hex(32))'
# NEVER use default value in production! Must be minimum 32 characters.
SECRET_KEY=change_this_to_random_secret_key_min_32_chars_GENERATE_NEW_ONE

# ============================================================================
# Email Configuration (SMTP)
# ============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ADMIN_EMAIL=admin@example.com

# ============================================================================
# Redis Configuration (Optional - for caching)
# ============================================================================
# Redis is OPTIONAL - application works without it (uses SimpleCache fallback)
# If you have a standalone Redis container running:

REDIS_HOST=100.103.184.90
REDIS_PORT=6379

# For local development without Docker:
# REDIS_HOST=localhost
# REDIS_PORT=6379

# Leave empty to use SimpleCache (in-memory):
# REDIS_HOST=
# REDIS_PORT=6379

# See REDIS_SETUP.md for detailed configuration instructions

# ============================================================================
# Application Settings
# ============================================================================
# Unique Home ID (auto-generated on first run if not set)
HOME_ID=

# Asset versioning for cache busting
ASSET_VERSION=

# Image tag for Docker deployments
IMAGE_TAG=latest

# ============================================================================
# Security & Session
# ============================================================================
# Set to 'true' in production for secure cookies
SECURE_COOKIES=false
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO
# LOG_FILE=logs/smarthome.log

# ============================================================================
# Feature Flags
# ============================================================================
# Enable/disable features
ENABLE_REGISTRATION=true
ENABLE_MULTI_HOME=true

# ============================================================================
# GitHub Integration (Optional)
# ============================================================================
# GitHub Personal Access Token for creating issues (optional)
# Leave empty to disable GitHub issue creation
# To create a token: GitHub Settings > Developer settings > Personal access tokens
# Required scope: 'repo' (for private repos) or 'public_repo' (for public repos)
GITHUB_TOKEN=
GITHUB_REPO_OWNER=AdasRakieta
GITHUB_REPO_NAME=Site_proj
