function showNotification(message,type='info'){const notification=document.createElement('div');notification.className=`notification notification-${type}`;notification.textContent=message;document.body.appendChild(notification);setTimeout(()=>{notification.classList.add('show');},10);const displayTime=type==='warning'?6000:3000;setTimeout(()=>{notification.classList.remove('show');setTimeout(()=>{document.body.removeChild(notification);},300);},displayTime);}
function formatDate(date){if(!date)return'';const d=new Date(date);return d.toLocaleDateString('pl-PL',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});}
function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};}
async function apiRequest(url,options={}){try{const response=await fetch(url,{headers:{'Content-Type':'application/json',...options.headers},...options});const data=await response.json();if(!response.ok){throw new Error(data.error||'API request failed');}
return data;}catch(error){console.error('API request error:',error);if(window.showNotification){showNotification(error.message,'error');}
throw error;}}
function escapeHtml(text){const div=document.createElement('div');div.textContent=text;return div.innerHTML;}
async function copyToClipboard(text){try{await navigator.clipboard.writeText(text);if(window.showNotification){showNotification('Skopiowano do schowka','success');}
return true;}catch(error){console.error('Failed to copy:',error);if(window.showNotification){showNotification('Błąd kopiowania','error');}
return false;}}
window.showNotification=showNotification;window.formatDate=formatDate;window.debounce=debounce;window.apiRequest=apiRequest;window.escapeHtml=escapeHtml;window.copyToClipboard=copyToClipboard;